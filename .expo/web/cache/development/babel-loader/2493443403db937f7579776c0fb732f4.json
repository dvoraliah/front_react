{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport CustomInput from \"../../components/CustomInput\";\nimport CustomButton from \"../../components/CustomButton\";\nimport Checkbox from \"expo-checkbox\";\nimport DatePicker from \"react-native-datepicker\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport axios from \"axios\";\nimport { API, USER_TOKEN, USER_ID } from \"../../services/env\";\nimport CustomRedirectAlert from \"../../components/CustomRedirectAlert\";\nimport CustomPicker from \"../../components/CustomPicker/CustomPicker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar NewEntryBudgetScreen = function _callee2(_ref) {\n  var route, categorieId, userId, _useState, _useState2, isChecked, setChecked, _useState3, _useState4, date, setDate, _useState5, _useState6, fieldsList, setFieldsList, _useState7, _useState8, champs, setChamps, _useState9, _useState10, montant, setMontant, OnAddToBudgetPress, recupCategories;\n\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          route = _ref.route;\n          categorieId = 2;\n          _context2.next = 4;\n          return _regeneratorRuntime.awrap(USER_ID);\n\n        case 4:\n          userId = _context2.sent;\n          _useState = useState(false), _useState2 = _slicedToArray(_useState, 2), isChecked = _useState2[0], setChecked = _useState2[1];\n          _useState3 = useState(new Date()), _useState4 = _slicedToArray(_useState3, 2), date = _useState4[0], setDate = _useState4[1];\n          _useState5 = useState([]), _useState6 = _slicedToArray(_useState5, 2), fieldsList = _useState6[0], setFieldsList = _useState6[1];\n          _useState7 = useState([]), _useState8 = _slicedToArray(_useState7, 2), champs = _useState8[0], setChamps = _useState8[1];\n          _useState9 = useState(''), _useState10 = _slicedToArray(_useState9, 2), montant = _useState10[0], setMontant = _useState10[1];\n\n          OnAddToBudgetPress = function OnAddToBudgetPress() {\n            console.warn(montant, isChecked);\n          };\n\n          recupCategories = function _callee(arg) {\n            var token, URI, response;\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _regeneratorRuntime.awrap(USER_TOKEN);\n\n                  case 2:\n                    token = _context.sent;\n                    URI = API + \"fields\";\n                    _context.next = 6;\n                    return _regeneratorRuntime.awrap(axios({\n                      method: \"get\",\n                      url: URI,\n                      headers: {\n                        Authorization: \"Bearer 1|aIU9qWxRucCX07iauIygbsN24g1dhJjjdwduORhH\"\n                      }\n                    }).then(function (response) {\n                      setFieldsList(response.data);\n                    }));\n\n                  case 6:\n                    response = _context.sent;\n\n                  case 7:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          };\n\n          useEffect(function () {\n            recupCategories();\n          }, []);\n          fieldsList.map(function (field) {\n            if (categorieId == field.field_category_id) {\n              champs.push({\n                label: field.name,\n                value: field.slug\n              });\n            }\n          });\n          return _context2.abrupt(\"return\", _jsx(ScrollView, {\n            children: _jsxs(View, {\n              children: [_jsx(Text, {\n                children: \"Formulaire de nouvelle entr\\xE9e budget\"\n              }), _jsx(CustomPicker, {\n                list: champs,\n                categorieId: categorieId\n              }), _jsx(CustomInput, {\n                placeholder: \"Montant\",\n                value: montant,\n                setValue: setMontant\n              }), _jsx(Text, {\n                style: styles.labelDate,\n                children: \"Date de D\\xE9pense\"\n              }), _jsx(DatePicker, {\n                style: styles.datePickerStyle,\n                date: date,\n                mode: \"date\",\n                placeholder: \"select date\",\n                format: \"DD-MM-YYYY\",\n                confirmBtnText: \"Ok\",\n                cancelBtnText: \"Annuler\",\n                customStyles: {\n                  dateIcon: {\n                    position: \"absolute\",\n                    left: 0,\n                    marginLeft: 0\n                  },\n                  dateInput: {\n                    marginLeft: 36\n                  }\n                },\n                onDateChange: function onDateChange(date) {\n                  setDate(date);\n                }\n              }), _jsx(Text, {\n                style: styles.labelDate,\n                children: \"Date de pr\\xE9vue du d\\xE9bit\"\n              }), _jsx(DatePicker, {\n                style: styles.datePickerStyle,\n                date: date,\n                mode: \"date\",\n                placeholder: \"select date\",\n                format: \"DD-MM-YYYY\",\n                confirmBtnText: \"Ok\",\n                cancelBtnText: \"Annuler\",\n                customStyles: {\n                  dateIcon: {\n                    position: \"absolute\",\n                    left: 0,\n                    marginLeft: 0\n                  },\n                  dateInput: {\n                    marginLeft: 36\n                  }\n                },\n                onDateChange: function onDateChange(date) {\n                  setDate(date);\n                }\n              }), _jsx(Checkbox, {\n                style: styles.checkbox,\n                value: isChecked,\n                onValueChange: setChecked,\n                color: isChecked ? \"green\" : undefined\n              }), _jsx(Text, {\n                style: styles.checkboxLabel,\n                children: \"D\\xE9bit\\xE9\"\n              }), _jsx(CustomButton, {\n                onPress: OnAddToBudgetPress,\n                text: \"Ajouter au budget\"\n              }), _jsx(CustomButton, {\n                onPress: \"\",\n                text: \"Retour Ã  la connexion\",\n                type: \"TERTIARY\"\n              })]\n            })\n          }));\n\n        case 15:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default NewEntryBudgetScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    padding: 20\n  },\n  datePickerStyle: {\n    width: 200,\n    marginTop: 20\n  },\n  labelDate: {\n    fontWeight: \"normal\",\n    color: \"grey\",\n    marginTop: 5,\n    marginBottom: 5\n  },\n  checkbox: {\n    marginTop: 10,\n    marginLeft: 15\n  },\n  checkboxLabel: {\n    marginTop: 2,\n    marginLeft: 5\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","CustomInput","CustomButton","Checkbox","DatePicker","useNavigation","axios","API","USER_TOKEN","USER_ID","CustomRedirectAlert","CustomPicker","NewEntryBudgetScreen","route","categorieId","userId","isChecked","setChecked","Date","date","setDate","fieldsList","setFieldsList","champs","setChamps","montant","setMontant","OnAddToBudgetPress","console","warn","recupCategories","arg","token","URI","method","url","headers","Authorization","then","response","data","map","field","field_category_id","push","label","name","value","slug","styles","labelDate","datePickerStyle","dateIcon","position","left","marginLeft","dateInput","checkbox","undefined","checkboxLabel","StyleSheet","create","container","flex","padding","justifyContent","alignItems","title","textAlign","fontSize","fontWeight","width","marginTop","color","marginBottom"],"sources":["/Applications/MAMP/htdocs/Projet_Orgabud/authentication/src/screens/NewEntryBudgetScreen/NewEntryBudgetScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { View, Text, StyleSheet, ScrollView, Button } from \"react-native\";\nimport CustomInput from \"../../components/CustomInput\";\nimport CustomButton from \"../../components/CustomButton\";\nimport Checkbox from \"expo-checkbox\";\nimport DatePicker from \"react-native-datepicker\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport axios from \"axios\";\nimport { API, USER_TOKEN, USER_ID } from \"../../services/env\";\nimport CustomRedirectAlert from \"../../components/CustomRedirectAlert\";\nimport CustomPicker from \"../../components/CustomPicker/CustomPicker\";\n\nconst NewEntryBudgetScreen = async ({ route }) => {\n    // const { categorieId } = route.params;\n    const categorieId = 2;\n  const userId = await USER_ID;\n  const [isChecked, setChecked] = useState(false);\n  const [date, setDate] = useState(new Date());\n  const [fieldsList, setFieldsList] = useState([]);\n  const [champs, setChamps] = useState([]);\n  const [montant, setMontant] = useState('');\n  const OnAddToBudgetPress = () => {\n      console.warn(montant, isChecked)\n  }\n\n  const recupCategories = async (arg) => {\n    const token = await USER_TOKEN;\n    const URI = API + \"fields\";\n    const response = await axios({\n      method: \"get\",\n      url: URI,\n      headers: {\n        //   Authorization: `Bearer ${token}`,\n        Authorization: `Bearer 1|aIU9qWxRucCX07iauIygbsN24g1dhJjjdwduORhH`,\n      },\n    }).then(function (response) {\n      setFieldsList(response.data);\n    });\n  };\n  useEffect(() => {\n    recupCategories();\n  }, []);\n  fieldsList.map((field) => {\n      if(categorieId == field.field_category_id){\n    // console.log(field)\n    champs.push({ label: field.name, value: field.slug });\n}\n  });\n\n  // console.log(champs)\n  return (\n    <ScrollView>\n      <View>\n        <Text>Formulaire de nouvelle entrÃ©e budget</Text>\n        <CustomPicker list={champs} categorieId={categorieId} />\n        {/* <CustomInput placeholder={\"Nom du Champs\"} value={\"\"} setValue={\"\"} /> */}\n        <CustomInput placeholder={\"Montant\"} value={montant} setValue={setMontant} />\n        <Text style={styles.labelDate}>Date de DÃ©pense</Text>\n        <DatePicker\n          style={styles.datePickerStyle}\n          date={date} //initial date from state\n          mode=\"date\" //The enum of date, datetime and time\n          placeholder=\"select date\"\n          format=\"DD-MM-YYYY\"\n          confirmBtnText=\"Ok\"\n          cancelBtnText=\"Annuler\"\n          customStyles={{\n            dateIcon: {\n              // display: 'none',\n              position: \"absolute\",\n              left: 0,\n              // top: 4,\n              marginLeft: 0,\n            },\n            dateInput: {\n              marginLeft: 36,\n            },\n          }}\n          onDateChange={(date) => {\n            setDate(date);\n          }}\n        />\n        <Text style={styles.labelDate}>Date de prÃ©vue du dÃ©bit</Text>\n        <DatePicker\n          style={styles.datePickerStyle}\n          date={date} //initial date from state\n          mode=\"date\" //The enum of date, datetime and time\n          placeholder=\"select date\"\n          format=\"DD-MM-YYYY\"\n          confirmBtnText=\"Ok\"\n          cancelBtnText=\"Annuler\"\n          customStyles={{\n            dateIcon: {\n              // display: 'none',\n              position: \"absolute\",\n              left: 0,\n              // top: 4,\n              marginLeft: 0,\n            },\n            dateInput: {\n              marginLeft: 36,\n            },\n          }}\n          onDateChange={(date) => {\n            setDate(date);\n          }}\n        />\n\n        <Checkbox\n          style={styles.checkbox}\n          value={isChecked}\n          onValueChange={setChecked}\n          color={isChecked ? \"green\" : undefined}\n        />\n        <Text style={styles.checkboxLabel}>DÃ©bitÃ©</Text>\n\n        <CustomButton onPress={OnAddToBudgetPress} text={\"Ajouter au budget\"} />\n\n        <CustomButton\n          onPress={\"\"}\n          text={\"Retour Ã  la connexion\"}\n          type=\"TERTIARY\"\n        />\n      </View>\n    </ScrollView>\n  );\n};\n\nexport default NewEntryBudgetScreen\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  title: {\n    textAlign: \"center\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    padding: 20,\n  },\n  datePickerStyle: {\n    width: 200,\n    marginTop: 20,\n  },\n  labelDate: {\n    fontWeight: \"normal\",\n    color: \"grey\",\n    marginTop: 5,\n    marginBottom: 5,\n  },\n  checkbox: {\n    marginTop: 10,\n    marginLeft: 15,\n  },\n  checkboxLabel :{\n      marginTop: 2,\n      marginLeft: 5,\n  }\n});\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}